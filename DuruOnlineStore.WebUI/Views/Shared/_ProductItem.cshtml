@using DuruOnlineStore.Data.Entities.Identities
@using Microsoft.AspNetCore.Identity
@model ProductItemViewModel
@inject SignInManager<AppUser> _SignInManager

<div class="product">
    <div class="product-img">
        <img src="@Model.ImageUrl" alt="">
        <div class="product-label">
            @if (Model.DiscountRate.HasValue)
            {
                <span class="sale">-@Model.DiscountRate%</span>
            }
            @if (Model.IsNew)
            {
                <span class="new">YENİ</span>
            }
        </div>
    </div>
    <div class="product-body">
        <p class="product-category">@Model.Category</p>
        <h3 class="product-name"><a href="#" class="tooltipp">@Model.Name</a></h3>
        <h4 class="product-price">₺@Model.FinalPrice <del class="product-old-price">₺@Model.Price</del></h4>
        <div class="product-rating"></div>
        <div class="product-btns">
            @if (!_SignInManager.IsSignedIn(User))
            {
                <button asp-controller="Account" asp-action="Login" class="add-to-wishlist"><i class="fa fa-heart-o"></i><span class="tooltipp">Favorilere Ekle</span></button>
                <button asp-controller="Account" asp-action="Login" class="add-to-cart-btn"><i class="fa fa-shopping-cart"></i><span class="tooltipp">Sepete Ekle</span></button>
            }else
            {
                <button class="add-to-wishlist"><i class="fa fa-heart-o"></i><span class="tooltipp">Favorilere Ekle</span></button>
                <button class="add-to-cart-btn"><i class="fa fa-shopping-cart"></i><span class="tooltipp">Sepete Ekle</span></button>
            }
        </div>
    </div>
</div>
